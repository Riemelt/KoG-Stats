(()=>{"use strict";var e,t={525:(e,t,n)=>{n(669),n(580);var r=n(627);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.className="category-menu",this.$component=t.find(".js-".concat(this.className)),this.$items=this.$component.find(".js-".concat(this.className,"__item"));for(var a=0,i=0;i<this.options.categories.length;i++)if(this.options.categories[i]===this.options.sortBy){a=i;break}this.setActiveItem(r(this.$items.get(a))),this.setHandlers()}var t,n;return t=e,(n=[{key:"setActiveItem",value:function(e){var t;null===(t=this.$currentActiveItem)||void 0===t||t.removeClass("".concat(this.className,"__item_active")),e.addClass("".concat(this.className,"__item_active")),this.$currentActiveItem=e}},{key:"setHandlers",value:function(){this.$items.on("click.categoryMenu",this.handleMenuItemClick.bind(this))}},{key:"handleMenuItemClick",value:function(e){if(e.target instanceof HTMLElement){var t=r(e.currentTarget);this.setActiveItem(t);var n=new URLSearchParams(window.location.search);n.set("sortBy",this.options.categories[this.$items.index(t)]),location.search=n.toString()}}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var o=["rank 1","rank 2","rank 3","rank 4","rank 5"];function s(e,t,n,r){if(r>=o.length)return 0;var a=o[r];return e.categories[n][a]!==t.categories[n][a]?e.categories[n][a]-t.categories[n][a]:s(e,t,n,r+1)}var c=n(627);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.className="leaderboard",this.$component=t,this.$rank=this.$component.find(".js-".concat(this.className,"__table-cell-rank")),this.$ranks=this.$component.find(".js-".concat(this.className,"__table-cell-total-ranks")),this.$name=this.$component.find(".js-".concat(this.className,"__table-cell-name"))}var t,n;return t=e,(n=[{key:"getOptions",value:function(){return this.options.player}},{key:"getHtml",value:function(){return this.$component}},{key:"setHandlers",value:function(){this.$name.on("click.player-entry-name",this.handleNameClick.bind(this))}},{key:"hasAnyRanks",value:function(e){for(var t=0;t<o.length;t++)if(this.options.player.categories[e][o[t]]>0)return!0;return!1}},{key:"update",value:function(e,t){this.setRank(t);var n=this.options.player.categories[e];this.setRanks(n)}},{key:"makeActive",value:function(e){this.$rank.addClass("".concat(this.className,"__table-cell-rank_rank").concat(e))}},{key:"removeActive",value:function(e){this.$rank.removeClass("".concat(this.className,"__table-cell-rank_rank").concat(e))}},{key:"handleNameClick",value:function(){var e=new URLSearchParams(window.location.search);e.set("player",this.options.player.name),location.href="player-profile.html?".concat(e.toString())}},{key:"setRank",value:function(e){this.$rank.html(e.toString()),e>=1&&e<=3&&this.makeActive(e)}},{key:"setRanks",value:function(e){this.$ranks.each((function(t,n){c(n).html(e[o[t]].toString())}))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var h=n(627);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.className="leaderboard",this.$component=t.find(".js-".concat(this.className)),this.$tableBody=this.$component.find(".js-".concat(this.className,"__table-body")),this.$playerEntries=this.$component.find(".js-".concat(this.className,"__table-row")),this.playerEntries=[],this.$playerEntries.each(this.initPlayerEntry.bind(this)),"Total"!==this.options.sortBy?this.initLeaderboard():(this.playerEntries[0].update("Total",1),this.playerEntries[1].update("Total",2),this.playerEntries[2].update("Total",3))}var t,n,r;return t=e,r=[{key:"comparePlayerEntries",value:function(e){return function(t,n){return s(t.getOptions(),n.getOptions(),e,0)}}}],(n=[{key:"getPlayerEntries",value:function(){var e=this;return this.playerEntries.filter((function(t){return t.hasAnyRanks(e.options.sortBy)}))}},{key:"render",value:function(e){var t=this;this.$tableBody.empty(),e.forEach((function(e){var n=e.getHtml();t.$tableBody.append(n),e.setHandlers()}))}},{key:"initLeaderboard",value:function(){var t=this;this.$tableBody.empty();var n=this.options.sortBy;this.playerEntries=this.playerEntries.sort(e.comparePlayerEntries(n)).reverse(),this.playerEntries.forEach((function(e,r){if(e.hasAnyRanks(n)){e.update(n,r+1);var a=e.getHtml();t.$tableBody.append(a),e.setHandlers()}}))}},{key:"initPlayerEntry",value:function(e,t){var n=h(t);this.playerEntries.push(new u(n,{player:this.options.players[e]}))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var y=n(409);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}const g=m((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.className="landing",this.$component=t,this.$pagination=this.$component.find(".js-".concat(this.className,"__pagination")),this.$categoryMenu=this.$component.find(".js-".concat(this.className,"__category-menu"));var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sortBy:this.options.sortBy},this.options.categoryMenu);this.categoryMenu=new i(this.$component,r),this.leaderboard=new f(this.$component.find(".js-".concat(this.className,"__leaderboard")),{sortBy:this.options.sortBy,players:this.options.players}),new y.Z(this.$pagination,{dataSource:this.leaderboard.getPlayerEntries(),render:this.leaderboard.render.bind(this.leaderboard)})}));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t=n(478),r=n(131).topRanks,a=new URLSearchParams(window.location.search),i=Object.fromEntries(a.entries()),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sortBy:void 0===i.sortBy?"Total":i.sortBy,players:r},t);new g(e(".js-".concat("landing")),o)}(n(627))},478:e=>{e.exports=JSON.parse('{"categoryMenu":{"categories":["Total","Insane","Hard","Main","Easy","Mod","Unknown"]}}')}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,a,i)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,a,i]=e[u],s=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[o,s,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var u=c(r)}for(t&&t(n);l<o.length;l++)i=o[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[871,977],(()=>r(525)));a=r.O(a)})();